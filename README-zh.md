# Zotero MCP - Model Context Protocol Integration for Zotero

Zotero MCP æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæ—¨åœ¨é€šè¿‡æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆModel Context Protocol, MCPï¼‰å°†å¼ºå¤§çš„ AI åŠŸèƒ½ä¸é¢†å…ˆçš„æ–‡çŒ®ç®¡ç†å·¥å…· Zotero æ— ç¼é›†æˆã€‚è¯¥é¡¹ç›®åŒ…å«ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶ï¼šä¸€ä¸ª Zotero æ’ä»¶å’Œä¸€ä¸ª MCP æœåŠ¡å™¨ï¼Œå…±åŒä¸º AI åŠ©æ‰‹ï¼ˆå¦‚ Claudeï¼‰æä¾›ä¸æ‚¨æœ¬åœ° Zotero æ–‡çŒ®åº“äº¤äº’çš„èƒ½åŠ›ã€‚
_This README is also available in: [:gb: English](./README.md) | :cn: ç®€ä½“ä¸­æ–‡._
[![GitHub](https://img.shields.io/badge/GitHub-zotero--mcp-blue?logo=github)](https://github.com/cookjohn/zotero-mcp)
[![zotero target version](https://img.shields.io/badge/Zotero-7-green?style=flat-square&logo=zotero&logoColor=CC2936)](https://www.zotero.org)
[![Node.js](https://img.shields.io/badge/Node.js-18%2B-green)](https://nodejs.org)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.4-blue)](https://www.typescriptlang.org)
[![Version](https://img.shields.io/badge/Version-1.1.0-brightgreen)]()
[![EN doc](https://img.shields.io/badge/Document-English-blue.svg)](README.md)
[![ä¸­æ–‡æ–‡æ¡£](https://img.shields.io/badge/æ–‡æ¡£-ä¸­æ–‡-blue.svg)](README-zh.md)

---

## ğŸ“š é¡¹ç›®æ¦‚è¿°

Zotero MCP æœåŠ¡å™¨æ˜¯ä¸€ä¸ªåŸºäº Model Context Protocol çš„å·¥å…·æœåŠ¡å™¨ï¼Œå®ƒä¸º Claude Desktop ç­‰ AI åº”ç”¨æä¾›äº†ä¸ Zotero æ–‡çŒ®ç®¡ç†ç³»ç»Ÿçš„æ— ç¼é›†æˆã€‚é€šè¿‡æ­¤æœåŠ¡å™¨ï¼ŒAI åŠ©æ‰‹å¯ä»¥ï¼š

- ğŸ” æ™ºèƒ½æœç´¢æ‚¨çš„ Zotero æ–‡çŒ®åº“
- ğŸ“– è·å–æ–‡çŒ®çš„è¯¦ç»†ä¿¡æ¯
- ğŸ·ï¸ æŒ‰æ ‡ç­¾ã€ä½œè€…ã€å¹´ä»½ç­‰å¤šç»´åº¦ç­›é€‰æ–‡çŒ®
- ğŸ”— é€šè¿‡ DOIã€ISBN ç­‰æ ‡è¯†ç¬¦ç²¾ç¡®å®šä½æ–‡çŒ®

è¿™ä½¿å¾— AI åŠ©æ‰‹èƒ½å¤Ÿå¸®åŠ©æ‚¨è¿›è¡Œæ–‡çŒ®ç»¼è¿°ã€å¼•ç”¨ç®¡ç†ã€ç ”ç©¶è¾…åŠ©ç­‰å­¦æœ¯å·¥ä½œã€‚

## ğŸš€ é¡¹ç›®ç»“æ„

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ª monorepoï¼ŒåŒ…å«ä»¥ä¸‹ä¸¤ä¸ªå­é¡¹ç›®ï¼š

1.  **`zotero-mcp-plugin`**: ä¸€ä¸ª Zotero æ’ä»¶ï¼Œè´Ÿè´£åœ¨ Zotero å®¢æˆ·ç«¯å†…éƒ¨å¯åŠ¨ä¸€ä¸ª HTTP æœåŠ¡å™¨ï¼Œæš´éœ²ç”¨äºä¸æ–‡çŒ®åº“äº¤äº’çš„ APIã€‚
2.  **`zotero-mcp-server`**: ä¸€ä¸ªç‹¬ç«‹çš„ MCP æœåŠ¡å™¨ï¼Œå®ƒä½œä¸º AI åŠ©æ‰‹ä¸ `zotero-mcp-plugin` ä¹‹é—´çš„æ¡¥æ¢ï¼Œå°† MCP å·¥å…·è°ƒç”¨è½¬æ¢ä¸ºå¯¹ Zotero æ’ä»¶ API çš„è¯·æ±‚ã€‚

---

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹æŒ‡å—

æœ¬æŒ‡å—æ—¨åœ¨å¸®åŠ©æ™®é€šç”¨æˆ·å¿«é€Ÿé…ç½®å’Œä½¿ç”¨ Zotero MCPï¼Œè®©æ‚¨çš„ AI åŠ©æ‰‹èƒ½å¤Ÿä¸ Zotero æ–‡çŒ®åº“æ— ç¼åä½œã€‚

### 1. å¿«é€Ÿä½¿ç”¨æ•™ç¨‹ï¼ˆé¢å‘æ™®é€šç”¨æˆ·ï¼‰

**Zotero MCP æ˜¯ä»€ä¹ˆï¼Ÿ**

ç®€å•æ¥è¯´ï¼ŒZotero MCP æ˜¯ä¸€åº§æ¡¥æ¢ï¼Œå®ƒè¿æ¥äº†æ‚¨çš„ AI å®¢æˆ·ç«¯ï¼ˆå¦‚ Cherry Studio, Gemini CLI, Claude Desktop ç­‰ï¼‰å’Œæœ¬åœ°çš„ Zotero æ–‡çŒ®ç®¡ç†è½¯ä»¶ã€‚é€šè¿‡å®ƒï¼ŒAI åŠ©æ‰‹å¯ä»¥ç›´æ¥æœç´¢ã€æŸ¥è¯¢å’Œå¼•ç”¨æ‚¨ Zotero åº“ä¸­çš„æ–‡çŒ®ï¼Œæå¤§åœ°æå‡å­¦æœ¯ç ”ç©¶å’Œå†™ä½œæ•ˆç‡ã€‚

**ä¸‰æ­¥å¿«é€Ÿå¼€å§‹ï¼š**

1.  **å®‰è£…æ’ä»¶**ï¼š
    *   å‰å¾€é¡¹ç›®çš„ [Releases é¡µé¢](https://github.com/cookjohn/zotero-mcp/releases) ä¸‹è½½æœ€æ–°çš„ `zotero-mcp-plugin.xpi` æ–‡ä»¶ã€‚
    *   åœ¨ Zotero ä¸­ï¼Œé€šè¿‡ `å·¥å…· -> é™„åŠ ç»„ä»¶` å®‰è£…è¯¥ `.xpi` æ–‡ä»¶ã€‚
    *   é‡å¯ Zoteroã€‚

2.  **å®‰è£… MCP Server**ï¼š
    æ‰“å¼€æ‚¨çš„ç»ˆç«¯ï¼ˆTerminalã€å‘½ä»¤æç¤ºç¬¦æˆ– PowerShellï¼‰ã€‚
    *   è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå…¨å±€å®‰è£…ï¼š
        ```bash
        npm install -g zotero-mcp
        ```
    *   å®‰è£…åï¼Œæ‚¨éœ€è¦æ‰¾åˆ° `zotero-mcp` åŒ…çš„ä¸»è„šæœ¬æ–‡ä»¶ `index.js` çš„å®Œæ•´è·¯å¾„ã€‚
    *   é¦–å…ˆï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ‰¾åˆ° npm å…¨å±€æ¨¡å—çš„å®‰è£…ç›®å½•ï¼š
        ```bash
        npm root -g
        ```
    *   è¯¥å‘½ä»¤ä¼šè¾“å‡ºä¸€ä¸ªè·¯å¾„ï¼Œä¾‹å¦‚ `C:\Users\YourUser\AppData\Roaming\npm\node_modules` (Windows) æˆ– `/home/user/.nvm/versions/node/v20.11.1/lib/node_modules` (macOS/Linux)ã€‚
    *   å°†æ­¤è·¯å¾„ä¸ `/zotero-mcp/build/index.js` æ‹¼æ¥èµ·æ¥ï¼Œå°±æ„æˆäº†æ‚¨éœ€è¦çš„å®Œæ•´è„šæœ¬è·¯å¾„ã€‚
    *   **æœ€ç»ˆè·¯å¾„ç¤ºä¾‹**: `C:\Users\YourUser\AppData\Roaming\npm\node_modules\zotero-mcp\build\index.js`

3.  **è¿æ¥ AI å®¢æˆ·ç«¯**ï¼š
    *   æ ¹æ®æ‚¨ä½¿ç”¨çš„ AI å®¢æˆ·ç«¯ï¼Œå‚è€ƒä¸‹é¢çš„æŒ‡å—é…ç½® MCP æœåŠ¡å™¨ã€‚é€šå¸¸ç›´æ¥ç²˜è´´é…ç½®ä»¥ä¸‹é…ç½®æ–‡ä»¶å³å¯å¼€å§‹ä½¿ç”¨ã€‚
    ```json
    {
      "mcpServers": {
          "zotero": {
            "command": "node",
            "args": ["/path/to/your/zotero-mcp/build/index.js"]
          }
      }
    }
    ```
    **é‡è¦æç¤º**:
    *   è¯·å°† `/path/to/your/zotero-mcp/build/index.js` æ›¿æ¢ä¸ºæ‚¨åœ¨ **ç¬¬ 2 æ­¥** ä¸­è·å–çš„ **å®Œæ•´è„šæœ¬è·¯å¾„**ã€‚
    *   ä¾‹å¦‚: `C:\\Users\\YourUser\\AppData\\Roaming\\npm\\node_modules\\zotero-mcp\\build\\index.js` (åœ¨ JSON ä¸­è¯·æ³¨æ„ Windows è·¯å¾„éœ€è¦ä½¿ç”¨åŒåæ–œæ  `\\` è¿›è¡Œè½¬ä¹‰)ã€‚

é…ç½®å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥åœ¨ AI åŠ©æ‰‹ä¸­é€šè¿‡è‡ªç„¶è¯­è¨€ä¸æ‚¨çš„ Zotero æ–‡çŒ®åº“è¿›è¡Œäº¤äº’äº†ã€‚

**ç¤ºä¾‹:**

-   `"å¸®æˆ‘æŸ¥æ‰¾ä¸€ä¸‹æˆ‘çš„ Zotero åº“é‡Œæ‰€æœ‰å…³äºâ€œäººå·¥æ™ºèƒ½â€çš„æ–‡çŒ®"`
-   `"è·å–å»å¹´ç”± Hinton å‘è¡¨çš„å…³äº transformer çš„æœŸåˆŠæ–‡ç« "`
-   `"æŸ¥æ‰¾ DOI ä¸º 10.1038/nature14539 çš„æ–‡çŒ®"`

---

### 2.  MCP Serverè¯¦ç»†è¯´æ˜

ç°åœ¨ï¼Œæ‚¨å¯ä»¥é€šè¿‡ npm å…¨å±€å®‰è£… Zotero MCP Serverï¼Œè¿™æ˜¯æœ€ç®€å•ã€æœ€æ¨èçš„æ–¹å¼ã€‚

1.  **å®‰è£… Server**ï¼š
    *   æ‰“å¼€æ‚¨çš„ç»ˆç«¯ï¼ˆTerminalã€å‘½ä»¤æç¤ºç¬¦æˆ– PowerShellï¼‰ã€‚
    *   è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå…¨å±€å®‰è£…ï¼š
        ```bash
        npm install -g zotero-mcp
        ```
    *   NPM åŒ…é¡µé¢: [https://www.npmjs.com/package/zotero-mcp](https://www.npmjs.com/package/zotero-mcp)

2.  **è·å– Server è„šæœ¬è·¯å¾„**ï¼š
    *   å®‰è£…åï¼Œæ‚¨éœ€è¦æ‰¾åˆ° `zotero-mcp` åŒ…çš„ä¸»è„šæœ¬æ–‡ä»¶ `index.js` çš„å®Œæ•´è·¯å¾„ã€‚
    *   é¦–å…ˆï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ‰¾åˆ° npm å…¨å±€æ¨¡å—çš„å®‰è£…ç›®å½•ï¼š
        ```bash
        npm root -g
        ```
    *   è¯¥å‘½ä»¤ä¼šè¾“å‡ºä¸€ä¸ªè·¯å¾„ï¼Œä¾‹å¦‚ `C:\Users\YourUser\AppData\Roaming\npm\node_modules` (Windows) æˆ– `/home/user/.nvm/versions/node/v20.11.1/lib/node_modules` (macOS/Linux)ã€‚
    *   å°†æ­¤è·¯å¾„ä¸ `/zotero-mcp/build/index.js` æ‹¼æ¥èµ·æ¥ï¼Œå°±æ„æˆäº†æ‚¨éœ€è¦çš„å®Œæ•´è„šæœ¬è·¯å¾„ã€‚
    *   **æœ€ç»ˆè·¯å¾„ç¤ºä¾‹**: `C:\Users\YourUser\AppData\Roaming\npm\node_modules\zotero-mcp\build\index.js`

---

### 3. è¿æ¥ AI å®¢æˆ·ç«¯

**é‡è¦æç¤º**ï¼šZotero MCP Server æ˜¯ç”±æ‚¨çš„ AI å®¢æˆ·ç«¯åœ¨éœ€è¦æ—¶ **è‡ªåŠ¨å¯åŠ¨** çš„ï¼Œæ‚¨ **æ— éœ€** æ‰‹åŠ¨è¿è¡Œä»»ä½•å‘½ä»¤ã€‚

æ‚¨éœ€è¦åœ¨ AI å®¢æˆ·ç«¯ä¸­é…ç½® `node` æ¥æ‰§è¡Œä¸Šä¸€æ­¥è·å–çš„ **å®Œæ•´è„šæœ¬è·¯å¾„**ã€‚

#### a) Cherry Studio é…ç½®

1.  **æ‰“å¼€è®¾ç½®**ï¼šè¿›å…¥ `Settings -> Advanced -> MCP Servers`ã€‚
2.  **ç‚¹å‡» "Import from JSON"** å¹¶ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼š
    ```json
    {
      "mcpServers": {
          "zotero": {
            "command": "node",
            "args": ["/path/to/your/zotero-mcp/build/index.js"]
          }
      }
    }
    ```
    **é‡è¦æç¤º**:
    *   è¯·å°† `/path/to/your/zotero-mcp/build/index.js` æ›¿æ¢ä¸ºæ‚¨åœ¨ **ç¬¬ 2 æ­¥** ä¸­è·å–çš„ **å®Œæ•´è„šæœ¬è·¯å¾„**ã€‚
    *   ä¾‹å¦‚: `C:\\Users\\YourUser\\AppData\\Roaming\\npm\\node_modules\\zotero-mcp\\build\\index.js` (åœ¨ JSON ä¸­è¯·æ³¨æ„ Windows è·¯å¾„éœ€è¦ä½¿ç”¨åŒåæ–œæ  `\\` è¿›è¡Œè½¬ä¹‰)ã€‚

3.  **ä¿å­˜é…ç½®**ï¼šç‚¹å‡» "Save" æŒ‰é’®ã€‚

#### b) Gemini CLI é…ç½®

1.  **ç¼–è¾‘é…ç½®æ–‡ä»¶** (`gemini_config.json`)ï¼š
    ```json
    "mcp_servers": {
      "zotero": {
        "command": ["node", "/path/to/your/zotero-mcp/build/index.js"]
      }
    }
    ```
    *å°† `/path/to/your/.../index.js` æ›¿æ¢ä¸ºæ‚¨è·å–çš„å®é™…è·¯å¾„ã€‚*

#### c) Claude Desktop é…ç½®

1.  **æ‰¾åˆ°é…ç½®æ–‡ä»¶**ï¼š
    *   Windows: `%APPDATA%\Claude\claude_desktop_config.json`
    *   macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`
2.  **æ·»åŠ é…ç½®**ï¼š
    ```json
    {
      "mcpServers": {
        "zotero": {
          "command": "node",
          "args": ["/path/to/your/zotero-mcp/build/index.js"],
          "env": {}
        }
      }
    }
    ```
    *å°† `/path/to/your/.../index.js` æ›¿æ¢ä¸ºæ‚¨è·å–çš„å®é™…è·¯å¾„ã€‚*

#### d) Cursor IDE é…ç½®

1.  **æ‰“å¼€é…ç½®æ–‡ä»¶** (`mcp.json`)ï¼š
    ```json
    {
      "servers": {
        "zotero": {
          "command": "node",
          "args": ["/path/to/your/zotero-mcp/build/index.js"]
        }
      }
    }
    ```
    *å°† `/path/to/your/.../index.js` æ›¿æ¢ä¸ºæ‚¨è·å–çš„å®é™…è·¯å¾„ã€‚*

#### e) ChatBox é…ç½®

1.  **è¿›å…¥è®¾ç½®**ï¼š`è®¾ç½® -> å·¥å…· -> MCP`ã€‚
2.  **æ·»åŠ æœåŠ¡å™¨**ï¼š
    *   **æœåŠ¡å™¨åç§°**: `zotero`
    *   **å‘½ä»¤**: `node`
    *   **å‚æ•°**: å¡«å…¥æ‚¨ä¸Šä¸€æ­¥è·å–çš„ `index.js` **å®Œæ•´è·¯å¾„**ã€‚

---

### 3. éªŒè¯ä¸æ•…éšœæ’æŸ¥

é…ç½®å®Œæˆåï¼Œå¦‚ä½•ç¡®è®¤ä¸€åˆ‡æ­£å¸¸å·¥ä½œï¼Ÿ

**1. éªŒè¯è¿æ¥**

*   **æŸ¥çœ‹å®¢æˆ·ç«¯çŠ¶æ€**ï¼šå¤§å¤šæ•° AI å®¢æˆ·ç«¯ï¼ˆå¦‚ ChatBox, Cherry Studioï¼‰çš„ MCP é…ç½®ç•Œé¢ä¼šæ˜¾ç¤ºæœåŠ¡å™¨çš„è¿æ¥çŠ¶æ€ã€‚å¦‚æœæ˜¾ç¤ºä¸º "Connected" æˆ–ç»¿è‰²æŒ‡ç¤ºç¯ï¼Œè¯´æ˜è¿æ¥å·²æˆåŠŸå»ºç«‹ã€‚
*   **ä½¿ç”¨æµ‹è¯•å‘½ä»¤**ï¼šåœ¨ AI åŠ©æ‰‹çš„èŠå¤©æ¡†ä¸­ï¼Œå‘é€ä¸€ä¸ªç®€å•çš„æµ‹è¯•å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š
    `"ä½¿ç”¨ zotero å·¥å…·æŸ¥æ‰¾ä»»ä½•æ–‡çŒ®ï¼Œè¿”å›ä¸€æ¡å³å¯"`
    å¦‚æœ AI èƒ½å¤Ÿè°ƒç”¨ `zotero.search_library` å¹¶è¿”å›ç»“æœï¼Œè¯´æ˜æ•´ä¸ªé“¾è·¯å·²é€šã€‚

**2. æ•…éšœæ’æŸ¥æŒ‡å—**

å¦‚æœè¿æ¥å¤±è´¥æˆ–å·¥å…·ä¸å·¥ä½œï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼š

| æ­¥éª¤ | æ£€æŸ¥é¡¹ | è§£å†³æ–¹æ¡ˆ |
| :--- | :--- | :--- |
| **1** | **Zotero æ’ä»¶æœåŠ¡** | ç¡®ä¿ Zotero æ­£åœ¨è¿è¡Œï¼Œå¹¶ä¸”åœ¨ `é¦–é€‰é¡¹ -> Zotero MCP Plugin` ä¸­ï¼Œ"Enable Server" å·²è¢«å‹¾é€‰ã€‚ |
| **2** | **è·¯å¾„é…ç½®** | ç¡®è®¤ AI å®¢æˆ·ç«¯ä¸­çš„ `command` è®¾ç½®ä¸º `node`ï¼Œå¹¶ä¸”ä½œä¸ºå‚æ•°çš„ `index.js` **ç»å¯¹è·¯å¾„**å®Œå…¨æ­£ç¡®ã€‚è·¯å¾„é”™è¯¯æ˜¯å¯¼è‡´å¤±è´¥çš„æœ€å¸¸è§åŸå› ã€‚ |
| **3** | **ç«¯å£å†²çª** | å¦‚æœ Zotero æ’ä»¶ç«¯å£ `23119` è¢«å ç”¨ï¼Œè¯·åœ¨æ’ä»¶è®¾ç½®ä¸­æ›´æ¢ç«¯å£ï¼Œå¹¶åœ¨ `zotero-mcp-server` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼Œå†…å®¹ä¸º `ZOTERO_API_PORT=æ–°ç«¯å£å·`ã€‚ |
| **4** | **æŸ¥çœ‹æ—¥å¿—** | å¤§å¤šæ•°å®¢æˆ·ç«¯éƒ½æä¾› MCP æœåŠ¡å™¨çš„æ—¥å¿—è¾“å‡ºåŠŸèƒ½ã€‚åœ¨ MCP é…ç½®ç•Œé¢å¯»æ‰¾ "Show Logs" æˆ–ç±»ä¼¼çš„æŒ‰é’®ã€‚æ—¥å¿—æ˜¯å®šä½é—®é¢˜çš„æœ€æœ‰æ•ˆå·¥å…·ï¼Œé€šå¸¸ä¼šæ˜ç¡®æŒ‡å‡ºæ˜¯è·¯å¾„é”™è¯¯ã€å‘½ä»¤å¤±è´¥è¿˜æ˜¯å…¶ä»–é—®é¢˜ã€‚ |
| **5** | **é˜²ç«å¢™/å®‰å…¨è½¯ä»¶** | ç¡®è®¤æ‚¨çš„é˜²ç«å¢™æˆ–å®‰å…¨è½¯ä»¶æ²¡æœ‰é˜»æ­¢ `node.exe` (Windows) æˆ– `node` (macOS/Linux) çš„ç½‘ç»œé€šä¿¡ã€‚ |
| **6** | **ç¯å¢ƒä¾èµ–** | ç¡®ä¿æ‚¨çš„ç³»ç»Ÿä¸­å·²å®‰è£… Node.js (ç‰ˆæœ¬ 18+)ã€‚æ‚¨å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¿è¡Œ `node -v` æ¥æ£€æŸ¥ç‰ˆæœ¬ã€‚ |

**3. å¸¸è§é”™è¯¯ä¿¡æ¯**

*   **`command not found` æˆ– `spawn ENOENT`**: é€šå¸¸è¡¨ç¤º `node` å‘½ä»¤ä¸å­˜åœ¨æˆ–è·¯å¾„é”™è¯¯ã€‚è¯·æ£€æŸ¥ Node.js æ˜¯å¦å·²æ­£ç¡®å®‰è£…å¹¶åŠ å…¥äº†ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œæˆ–è€…æ£€æŸ¥å®¢æˆ·ç«¯é…ç½®ä¸­çš„å‘½ä»¤æ˜¯å¦æ­£ç¡®ã€‚
*   **`Error: connect ECONNREFUSED 127.0.0.1:23119`**: è¡¨ç¤º MCP æœåŠ¡å™¨æ— æ³•è¿æ¥åˆ° Zotero æ’ä»¶ã€‚è¯·æ‰§è¡Œä¸Šè¿°æ’æŸ¥æŒ‡å—çš„ç¬¬ 1 æ­¥å’Œç¬¬ 3 æ­¥ã€‚
*   **JSON æ ¼å¼é”™è¯¯**: åœ¨æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶æ—¶ï¼Œè¯·ç¡®ä¿æ‚¨çš„ JSON è¯­æ³•æ­£ç¡®ï¼Œæ²¡æœ‰é—æ¼é€—å·æˆ–æ‹¬å·ã€‚

å¦‚æœä»¥ä¸Šæ­¥éª¤å‡æ— æ³•è§£å†³é—®é¢˜ï¼Œè¯·å‰å¾€ [GitHub Issues](https://github.com/cookjohn/zotero-mcp/issues) é¡µé¢ï¼Œå¹¶é™„ä¸Šæ‚¨çš„æ“ä½œç³»ç»Ÿã€å®¢æˆ·ç«¯ç‰ˆæœ¬å’Œç›¸å…³çš„æ—¥å¿—ä¿¡æ¯ï¼Œä»¥ä¾¿æˆ‘ä»¬æ›´å¥½åœ°å¸®åŠ©æ‚¨ã€‚

---

## ğŸ§© zotero-mcp-plugin (Zotero æ’ä»¶)

`zotero-mcp-plugin` æ˜¯ä¸€ä¸ªå®‰è£…åœ¨ Zotero å®¢æˆ·ç«¯çš„æ’ä»¶ï¼Œå®ƒåœ¨ Zotero å†…éƒ¨å¯åŠ¨ä¸€ä¸ªè½»é‡çº§ HTTP æœåŠ¡å™¨ï¼Œç”¨äºæ¥æ”¶æ¥è‡ª `zotero-mcp-server` çš„è¯·æ±‚ã€‚

### ä¸»è¦åŠŸèƒ½

-   **å†…ç½® HTTP æœåŠ¡å™¨**: åœ¨ Zotero å†…éƒ¨å¯åŠ¨ä¸€ä¸ªè½»é‡çº§ HTTP æœåŠ¡å™¨ã€‚
-   **æ•°æ®è®¿é—® API**: æä¾›ä¸€ç³»åˆ— API ç«¯ç‚¹ï¼Œç”¨äºå®‰å…¨åœ°è®¿é—®å’Œæ“ä½œ Zotero æ•°æ®ã€‚
-   **æ–‡çŒ®é›†ç®¡ç†**: å…è®¸æµè§ˆã€æœç´¢å’Œæ£€ç´¢æŒ‡å®šæ–‡çŒ®é›†ä¸­çš„æ¡ç›®ã€‚
-   **é«˜çº§æ ‡ç­¾æœç´¢**: æ”¯æŒå¼ºå¤§çš„æ ‡ç­¾æŸ¥è¯¢åŠŸèƒ½ï¼ŒåŒ…æ‹¬ `any` (ä»»æ„)ã€`all` (å…¨éƒ¨)ã€`none` (æ— ) æ¨¡å¼ï¼Œä»¥åŠ `exact` (ç²¾ç¡®)ã€`contains` (åŒ…å«)ã€`startsWith` (å¼€å¤´ä¸º) åŒ¹é…ã€‚
-   **PDF æ–‡æœ¬æå–**: èƒ½å¤Ÿä» PDF é™„ä»¶ä¸­æå–å…¨æ–‡æˆ–æŒ‡å®šé¡µç çš„æ–‡æœ¬å†…å®¹ã€‚
-   **å¯é…ç½®æ€§**: ç”¨æˆ·å¯ä»¥åœ¨ Zotero é¦–é€‰é¡¹ä¸­è½»æ¾é…ç½®æœåŠ¡å™¨ç«¯å£ã€å¯ç”¨æˆ–ç¦ç”¨æœåŠ¡ã€‚

---

## ğŸ–¥ï¸ zotero-mcp-server (MCP æœåŠ¡å™¨)

`zotero-mcp-server` æ˜¯ä¸€ä¸ªç¬¦åˆ Model Context Protocol è§„èŒƒçš„å·¥å…·æœåŠ¡å™¨ï¼Œå……å½“ AI åŠ©æ‰‹ä¸ Zotero æ’ä»¶ä¹‹é—´çš„æ¡¥æ¢ã€‚

### ä¸»è¦åŠŸèƒ½

-   **MCP å·¥å…·é›†**: æä¾›ä¸€ç»„æ ‡å‡†åŒ–çš„ MCP å·¥å…·ï¼ˆå¦‚ `search_library`, `get_item_details`ï¼‰ï¼Œä¾› AI åŠ©æ‰‹è°ƒç”¨ã€‚
-   **æ™ºèƒ½æœç´¢**: æ”¯æŒå¯¹æ–‡çŒ®åº“è¿›è¡Œå…¨æ–‡æœç´¢ï¼Œå¹¶å¯æŒ‰æ ‡é¢˜ã€ä½œè€…ã€å¹´ä»½ã€æ ‡ç­¾ã€æ–‡çŒ®ç±»å‹ç­‰å¤šç»´åº¦è¿›è¡Œç²¾ç¡®ç­›é€‰å’Œæ’åºã€‚
-   **æ ‡è¯†ç¬¦æŸ¥æ‰¾**: å¯é€šè¿‡ DOIã€ISBN ç­‰å”¯ä¸€æ ‡è¯†ç¬¦å¿«é€Ÿã€ç²¾ç¡®å®šä½æ–‡çŒ®ã€‚
-   **åè®®è½¬æ¢**: å°† AI åŠ©æ‰‹çš„ MCP è¯·æ±‚è½¬æ¢ä¸ºå¯¹ `zotero-mcp-plugin` HTTP API çš„è°ƒç”¨ã€‚
-   **æœ¬åœ°åŒ–è¿è¡Œ**: ä½œä¸ºæœ¬åœ°è¿›ç¨‹è¿è¡Œï¼Œç¡®ä¿æ•°æ®å®‰å…¨ï¼Œæ‰€æœ‰æ“ä½œå‡åœ¨æœ¬åœ°å®Œæˆã€‚

---

## æ•ˆæœå±•ç¤º

è¿™é‡Œæ˜¯ä¸€äº›å±•ç¤º Zotero MCP åŠŸèƒ½çš„æˆªå›¾ï¼š

| åŠŸèƒ½ | æˆªå›¾ |
| :--- | :---: |
| **åŠŸèƒ½è¯´æ˜** | ![åŠŸèƒ½è¯´æ˜](./IMG/åŠŸèƒ½è¯´æ˜.png) |
| **æ–‡çŒ®æ£€ç´¢** | ![æ–‡çŒ®æ£€ç´¢](./IMG/æ–‡çŒ®æ£€ç´¢.png) |
| **å…ƒæ•°æ®æŸ¥çœ‹** | ![å…ƒæ•°æ®æŸ¥çœ‹](./IMG/å…ƒæ•°æ®æŸ¥çœ‹.png) |
| **å…¨æ–‡è¯»å– 1** | ![å…¨æ–‡è¯»å– 1](./IMG/å…¨æ–‡è¯»å–1.png) |
| **å…¨æ–‡è¯»å– 2** | ![å…¨æ–‡è¯»å– 2](./IMG/å…¨æ–‡è¯»å–2.png) |
| **é™„ä»¶æ£€ç´¢ (Gemini CLI)** | ![é™„ä»¶æ£€ç´¢](./IMG/geminicli-é™„ä»¶æ£€ç´¢.png) |
| **PDF è¯»å– (Gemini CLI)** | ![PDF è¯»å–](./IMG/geminicli-pdfè¯»å–.png) |

---

## ğŸ‘¨â€ğŸ’» å¼€å‘è€…å®‰è£…æŒ‡å—

### å‰ç½®è¦æ±‚

- **Zotero** 7.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.js** 18.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm** æˆ– **yarn** åŒ…ç®¡ç†å™¨
- **Git**

### æ­¥éª¤ 1: å®‰è£…å’Œé…ç½® Zotero æ’ä»¶

1.  å‰å¾€é¡¹ç›®çš„ [Releases é¡µé¢](https://github.com/cookjohn/zotero-mcp/releases) ä¸‹è½½æœ€æ–°çš„ `zotero-mcp-plugin.xpi` æ–‡ä»¶ã€‚
2.  åœ¨ Zotero ä¸­ï¼Œé€šè¿‡ `å·¥å…· -> é™„åŠ ç»„ä»¶` å®‰è£…è¯¥ `.xpi` æ–‡ä»¶ã€‚
3.  åœ¨ Zotero çš„ `é¦–é€‰é¡¹ -> Zotero MCP Plugin` æ ‡ç­¾é¡µä¸­ï¼Œå‹¾é€‰ "Enable Server" æ¥å¯åŠ¨æ’ä»¶å†…ç½®çš„ HTTP æœåŠ¡å™¨ã€‚

### æ­¥éª¤ 2: å®‰è£…å’Œé…ç½® MCP æœåŠ¡å™¨

ä½œä¸ºå¼€å‘è€…ï¼Œæ‚¨å¯ä»¥é€‰æ‹©ä»æºä»£ç æ„å»ºå’Œè¿è¡Œï¼Œæˆ–è€…ä½¿ç”¨å·²å‘å¸ƒçš„ npm åŒ…ã€‚

**æ–¹å¼ä¸€ï¼šä»æºä»£ç è¿è¡Œ (æ¨èç”¨äºå¼€å‘)**

1.  å…‹éš†æœ¬ä»“åº“åˆ°æœ¬åœ°ï¼š
    ```bash
    git clone https://github.com/cookjohn/zotero-mcp.git
    cd zotero-mcp
    ```
2.  è¿›å…¥ `zotero-mcp-server` ç›®å½•ï¼Œå®‰è£…ä¾èµ–å¹¶æ„å»ºé¡¹ç›®ã€‚è¯¥ç›®å½•åŒ…å«äº† MCP Server çš„æ‰€æœ‰æºä»£ç ã€‚
    ```bash
    cd zotero-mcp-server
    npm install
    npm run build
    ```
3.  è¿è¡Œå¼€å‘æœåŠ¡å™¨ï¼š
    ```bash
    npm start
    ```
    æˆ–è€…ç›´æ¥é€šè¿‡ node è¿è¡Œæ„å»ºåçš„æ–‡ä»¶ï¼š
    ```bash
    node build/index.js
    ```

**æ–¹å¼äºŒï¼šä½¿ç”¨å‘å¸ƒçš„ npm åŒ…**

å¦‚æœæ‚¨æƒ³æµ‹è¯•æˆ–ä½¿ç”¨å·²å‘å¸ƒçš„ç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥å…¨å±€å®‰è£…ï¼š
```bash
npm install -g zotero-mcp
```
ç„¶åé€šè¿‡ `zotero-mcp` å‘½ä»¤å¯åŠ¨ã€‚

### æ­¥éª¤ 3: é›†æˆåˆ° AI åŠ©æ‰‹ (ä»¥ Claude Desktop ä¸ºä¾‹)

1.  æ‰¾åˆ° Claude Desktop é…ç½®æ–‡ä»¶ï¼š
    -   **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`
    -   **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
    -   **Linux**: `~/.config/Claude/claude_desktop_config.json`

2.  ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ  Zotero MCP æœåŠ¡å™¨çš„è·¯å¾„ï¼š
    ```json
    {
      "mcpServers": {
        "zotero": {
          "command": "node",
          "args": ["/path/to/your/zotero-mcp/zotero-mcp-server/build/index.js"],
          "env": {}
        }
      }
    }
    ```
    **æ³¨æ„**: å°† `/path/to/your/zotero-mcp/` æ›¿æ¢ä¸ºæ‚¨çš„å®é™…é¡¹ç›®è·¯å¾„ã€‚

3.  é‡å¯ Claude Desktop åº”ç”¨ã€‚

### æ­¥éª¤ 4: å¼€å§‹ä½¿ç”¨

é…ç½®å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥åœ¨ AI åŠ©æ‰‹ä¸­é€šè¿‡è‡ªç„¶è¯­è¨€ä¸æ‚¨çš„ Zotero æ–‡çŒ®åº“è¿›è¡Œäº¤äº’äº†ã€‚

**ç¤ºä¾‹:**

-   `"å¸®æˆ‘æŸ¥æ‰¾ä¸€ä¸‹æˆ‘çš„ Zotero åº“é‡Œæ‰€æœ‰å…³äºâ€œäººå·¥æ™ºèƒ½â€çš„æ–‡çŒ®"`
-   `"è·å–å»å¹´ç”± Hinton å‘è¡¨çš„å…³äº transformer çš„æœŸåˆŠæ–‡ç« "`
-   `"æŸ¥æ‰¾ DOI ä¸º 10.1038/nature14539 çš„æ–‡çŒ®"`

---

## ğŸ‘¨â€ğŸ’» å¼€å‘è€…æ–‡æ¡£

### æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     MCP      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     HTTP      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Claude    â”‚<------------>â”‚  MCP Server â”‚<------------>â”‚ Zotero Plugin â”‚
â”‚   Desktop   â”‚    stdio     â”‚  (æœ¬é¡¹ç›®)    â”‚   localhost  â”‚ (å†…ç½®HTTPæœåŠ¡) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

1.  **Claude Desktop** é€šè¿‡ stdio åè®®ä¸ MCP æœåŠ¡å™¨é€šä¿¡ã€‚
2.  **MCP æœåŠ¡å™¨** å°†å·¥å…·è°ƒç”¨è½¬æ¢ä¸ºå¯¹ Zotero æ’ä»¶çš„ HTTP è¯·æ±‚ã€‚
3.  **Zotero æ’ä»¶** è°ƒç”¨å†…éƒ¨ Zotero API å¤„ç†è¯·æ±‚å¹¶è¿”å›æ•°æ®ã€‚
4.  æ•°æ®æµå‘ç›¸åæ–¹å‘è¿”å›ç»™ç”¨æˆ·ã€‚

### æ’ä»¶å¼€å‘ (`zotero-mcp-plugin`)

1.  è¿›å…¥æ’ä»¶ç›®å½•å¹¶å®‰è£…ä¾èµ–ï¼š
    ```bash
    cd zotero-mcp-plugin
    npm install
    ```
2.  å¯åŠ¨å¼€å‘æ¨¡å¼ï¼š
    ```bash
    npm start
    ```
    è¿™å°†å¯åŠ¨ Zotero å¹¶è‡ªåŠ¨åŠ è½½æ’ä»¶ã€‚ä»£ç æ›´æ”¹æ—¶ä¼šè‡ªåŠ¨é‡è½½ã€‚

3.  æ„å»ºæ’ä»¶ `.xpi` æ–‡ä»¶ï¼š
    ```bash
    npm run build
    ```

### æœåŠ¡å™¨å¼€å‘ (`zotero-mcp-server`)

1.  è¿›å…¥æœåŠ¡å™¨ç›®å½•å¹¶å®‰è£…ä¾èµ–ï¼š
    ```bash
    cd zotero-mcp-server
    npm install
    ```
2.  æ„å»ºæœåŠ¡å™¨ï¼š
    ```bash
    npm run build
    ```
3.  å¯åŠ¨æœåŠ¡å™¨è¿›è¡Œæµ‹è¯•ï¼š
    ```bash
    npm start
    ```

---

## ğŸ”§ API å‚è€ƒ

`zotero-mcp-server` æä¾›äº†ä»¥ä¸‹å·¥å…·ä¾› AI åŠ©æ‰‹è°ƒç”¨ï¼š

### `search_library`

æœç´¢ Zotero æ–‡çŒ®åº“ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|---|---|---|---|
| `q` | string | å¦ | é€šç”¨æœç´¢å…³é”®è¯ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€å¹´ä»½ï¼‰ |
| `title` | string | å¦ | æ ‡é¢˜å…³é”®è¯ |
| `creator` | string | å¦ | ä½œè€…å§“å |
| `year` | string | å¦ | å¹´ä»½æˆ–å¹´ä»½èŒƒå›´ï¼ˆå¦‚ "2020" æˆ– "2020-2024"ï¼‰ |
| `tag` | string | å¦ | æ ‡ç­¾ï¼Œå¤šä¸ªç”¨é€—å·åˆ†éš” |
| `itemType` | string | å¦ | æ–‡çŒ®ç±»å‹ï¼ˆå¦‚ "journalArticle", "book"ï¼‰ |
| `collectionKey` | string | å¦ | æ–‡çŒ®é›† Key |
| `hasAttachment` | boolean | å¦ | æ˜¯å¦æœ‰é™„ä»¶ |
| `hasNote` | boolean | å¦ | æ˜¯å¦æœ‰ç¬”è®° |
| `limit` | number | å¦ | è¿”å›ç»“æœæ•°é‡ï¼ˆæœ€å¤§ 500ï¼Œé»˜è®¤ 100ï¼‰ |
| `offset` | number | å¦ | åˆ†é¡µåç§»é‡ |
| `sort` | string | å¦ | æ’åºæ–¹å¼ï¼šrelevance, title, creator, date, dateAdded, dateModified |
| `direction` | string | å¦ | æ’åºæ–¹å‘ï¼šasc, desc |
| `fields` | string | å¦ | è‡ªå®šä¹‰è¿”å›å­—æ®µï¼Œé€—å·åˆ†éš” |

### `get_item_details`

è·å–å•ä¸ªæ–‡çŒ®çš„å®Œæ•´ä¿¡æ¯ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|---|---|---|---|
| `itemKey` | string | æ˜¯ | æ–‡çŒ®çš„å”¯ä¸€ Key |

### `find_item_by_identifier`

é€šè¿‡ DOI æˆ– ISBN æŸ¥æ‰¾æ–‡çŒ®ã€‚

| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|---|---|---|---|
| `doi` | string | å¦* | æ–‡çŒ®çš„ DOI |
| `isbn` | string | å¦* | ä¹¦ç±çš„ ISBN |

*è‡³å°‘éœ€è¦æä¾› `doi` æˆ– `isbn` ä¸­çš„ä¸€ä¸ªã€‚

---

## ğŸ› å¸¸è§é—®é¢˜ (FAQ)

#### 1. è¿æ¥è¢«æ‹’ç»é”™è¯¯

**é—®é¢˜**: `Error: connect ECONNREFUSED 127.0.0.1:PORT`
**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿ Zotero æ­£åœ¨è¿è¡Œã€‚
- æ£€æŸ¥ Zotero æ’ä»¶æ˜¯å¦å·²å¯ç”¨ã€‚
- ç¡®è®¤æ’ä»¶è®¾ç½®ä¸­çš„ç«¯å£å·ä¸æœåŠ¡å™¨çš„é¢„æœŸç«¯å£ä¸€è‡´ã€‚

#### 2. æœåŠ¡å™¨å¯åŠ¨å¤±è´¥

**é—®é¢˜**: `Failed to start server`
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ Node.js ç‰ˆæœ¬æ˜¯å¦ >= 18.0ã€‚
- ç¡®ä¿å·²åœ¨ `zotero-mcp-server` ç›®å½•è¿è¡Œ `npm install` å’Œ `npm run build`ã€‚

#### 3. Claude Desktop æ— æ³•è¯†åˆ«å·¥å…·

**é—®é¢˜**: Claude ä¸æ˜¾ç¤º Zotero ç›¸å…³å·¥å…·ã€‚
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ `claude_desktop_config.json` ä¸­çš„è·¯å¾„æ˜¯å¦æ­£ç¡®ã€‚
- ç¡®ä¿ JSON æ ¼å¼æ­£ç¡®ã€‚
- é‡å¯ Claude Desktopã€‚

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1.  Fork æœ¬ä»“åº“ã€‚
2.  åˆ›å»ºæ‚¨çš„åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)ã€‚
3.  æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)ã€‚
4.  æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)ã€‚
5.  å¼€å¯ä¸€ä¸ª Pull Requestã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](./LICENSE) æˆæƒã€‚

## ğŸ™ è‡´è°¢

- [Zotero](https://www.zotero.org/) - ä¼˜ç§€çš„å¼€æºæ–‡çŒ®ç®¡ç†å·¥å…·ã€‚
- [Model Context Protocol](https://modelcontextprotocol.org/) - å®ç° AI å·¥å…·é›†æˆçš„åè®®ã€‚
- [![Using Zotero Plugin Template](https://img.shields.io/badge/Using-Zotero%20Plugin%20Template-blue?style=flat-square&logo=github)](https://github.com/windingwind/zotero-plugin-template)