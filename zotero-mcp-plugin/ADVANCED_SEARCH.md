# é«˜çº§æœç´¢åŠŸèƒ½æ–‡æ¡£

Zotero MCP Plugin 2.0 ç‰ˆæœ¬æ–°å¢äº†å¼ºå¤§çš„é«˜çº§æœç´¢åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§æœç´¢æ“ä½œç¬¦ã€ç›¸å…³æ€§è¯„åˆ†ã€èŒƒå›´æŸ¥è¯¢ç­‰ã€‚

## ğŸš€ æ–°å¢åŠŸèƒ½æ¦‚è§ˆ

### 1. é«˜çº§å­—æ®µæ“ä½œç¬¦

- **ç²¾ç¡®åŒ¹é…** (`exact`): å®Œå…¨åŒ¹é…
- **åŒ…å«åŒ¹é…** (`contains`): éƒ¨åˆ†åŒ¹é…ï¼ˆé»˜è®¤ï¼‰
- **å¼€å§‹åŒ¹é…** (`startsWith`): å‰ç¼€åŒ¹é…
- **ç»“æŸåŒ¹é…** (`endsWith`): åç¼€åŒ¹é…
- **æ­£åˆ™è¡¨è¾¾å¼** (`regex`): æ­£åˆ™åŒ¹é…

### 2. èŒƒå›´æŸ¥è¯¢

- **å¹´ä»½èŒƒå›´**: `yearRange=2020-2023`
- **æ—¥æœŸèŒƒå›´**: `dateAddedRange=2023-01-01,2023-12-31`
- **é¡µæ•°èŒƒå›´**: `numPagesRange=10-50`

### 3. ç›¸å…³æ€§è¯„åˆ†

- **æ™ºèƒ½è¯„åˆ†**: `relevanceScoring=true`
- **å­—æ®µæƒé‡**: `boostFields=title,abstractNote`
- **ç›¸å…³æ€§æ’åº**: `sort=relevance`

### 4. æ‰©å±•å­—æ®µæ”¯æŒ

- æ‘˜è¦æ–‡æœ¬ã€å‘è¡¨æœŸåˆŠã€è¯­è¨€ã€ç‰ˆæƒä¿¡æ¯ç­‰

## ğŸ“– API ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€æœç´¢

```
GET /search?q=äººå·¥æ™ºèƒ½&limit=10
```

### æ ‡é¢˜ç²¾ç¡®åŒ¹é…

```
GET /search?title=æ•°å­—åŒ–è½¬å‹&titleOperator=exact&limit=5
```

### å¹´ä»½èŒƒå›´æœç´¢

```
GET /search?yearRange=2020-2023&limit=10
```

### ç›¸å…³æ€§è¯„åˆ†æœç´¢

```
GET /search?q=åˆ›æ–°&relevanceScoring=true&sort=relevance&direction=desc&limit=10
```

### å¤åˆæ¡ä»¶æœç´¢

```
GET /search?title=æœºå™¨å­¦ä¹ &titleOperator=contains&yearRange=2021-2023&creator=å¼ &creatorOperator=contains&relevanceScoring=true&limit=5
```

### æ‘˜è¦æ­£åˆ™æœç´¢

```
GET /search?abstractText=æ•°å­—.*è½¬å‹&abstractOperator=regex&limit=5
```

### å­—æ®µæƒé‡æå‡

```
GET /search?q=åŒºå—é“¾&relevanceScoring=true&boostFields=title,abstractNote&sort=relevance&limit=5
```

## ğŸ”§ æ”¯æŒçš„æœç´¢å‚æ•°

### åŸºç¡€å‚æ•°

- `q`: å…¨æ–‡æœç´¢å…³é”®è¯
- `key`: ç²¾ç¡®é¡¹ç›®é”®åŒ¹é…
- `limit`: ç»“æœæ•°é‡é™åˆ¶ (æœ€å¤§ 500)
- `offset`: åˆ†é¡µåç§»é‡
- `sort`: æ’åºå­—æ®µ (`date|title|creator|dateAdded|dateModified|relevance`)
- `direction`: æ’åºæ–¹å‘ (`asc|desc`)

### å­—æ®µç‰¹å®šæœç´¢

- `title` + `titleOperator`: æ ‡é¢˜æœç´¢
- `creator` + `creatorOperator`: ä½œè€…æœç´¢
- `abstractText` + `abstractOperator`: æ‘˜è¦æœç´¢
- `publicationTitle` + `publicationTitleOperator`: å‘è¡¨æœŸåˆŠæœç´¢

### èŒƒå›´æŸ¥è¯¢å‚æ•°

- `yearRange`: å¹´ä»½èŒƒå›´ (`"2020-2023"`)
- `dateAddedRange`: æ·»åŠ æ—¥æœŸèŒƒå›´ (`"2023-01-01,2023-12-31"`)
- `dateModifiedRange`: ä¿®æ”¹æ—¥æœŸèŒƒå›´
- `numPagesRange`: é¡µæ•°èŒƒå›´ (`"10-50"`)

### ç›¸å…³æ€§å‚æ•°

- `relevanceScoring`: å¯ç”¨ç›¸å…³æ€§è¯„åˆ† (`"true"|"false"`)
- `boostFields`: æƒé‡æå‡å­—æ®µ (é€—å·åˆ†éš”)
- `sort=relevance`: æŒ‰ç›¸å…³æ€§æ’åº

### å…¶ä»–å­—æ®µ

- `language`: è¯­è¨€è¿‡æ»¤
- `rights`: ç‰ˆæƒä¿¡æ¯
- `url`: URL åœ°å€
- `extra`: é¢å¤–ä¿¡æ¯

## ğŸ“Š å“åº”æ ¼å¼

### åŸºç¡€å“åº”

```json
{
  "query": { ... },
  "pagination": {
    "limit": 10,
    "offset": 0,
    "total": 42,
    "hasMore": true
  },
  "searchTime": "156ms",
  "version": "2.0",
  "searchFeatures": ["fulltext", "relevanceScoring"],
  "results": [ ... ]
}
```

### ç›¸å…³æ€§è¯„åˆ†å“åº”

```json
{
  "relevanceStats": {
    "averageScore": 2.35,
    "maxScore": 5.2,
    "minScore": 0.8
  },
  "results": [
    {
      "key": "ABCD1234",
      "title": "äººå·¥æ™ºèƒ½ç ”ç©¶",
      "relevanceScore": 5.2,
      "matchedFields": ["title", "abstractNote"],
      ...
    }
  ]
}
```

## ğŸ§ª æµ‹è¯•åŠŸèƒ½

è®¿é—®æµ‹è¯•ç«¯ç‚¹æŸ¥çœ‹æ‰€æœ‰é«˜çº§æœç´¢åŠŸèƒ½çš„æ¼”ç¤ºï¼š

```
GET /test/advanced-search
```

è¯¥ç«¯ç‚¹å°†è¿è¡Œ 12 ä¸ªä¸åŒçš„æµ‹è¯•ç”¨ä¾‹ï¼Œå±•ç¤ºå„ç§é«˜çº§æœç´¢åŠŸèƒ½çš„ä½¿ç”¨æ–¹æ³•å’Œæ•ˆæœã€‚

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æœç´¢ç­–ç•¥

1. **ç²¾ç¡®é”®æŸ¥æ‰¾ä¼˜å…ˆ**: `key` å‚æ•°æ—¶ç›´æ¥æŸ¥æ‰¾ï¼Œæ— éœ€å…¨è¡¨æ‰«æ
2. **Zotero åŸç”Ÿæœç´¢**: å…ˆç”¨ Zotero Search API å¿«é€Ÿè¿‡æ»¤
3. **å†…å­˜åå¤„ç†**: é«˜çº§åŠŸèƒ½åœ¨å†…å­˜ä¸­è¿›ä¸€æ­¥è¿‡æ»¤å’Œè¯„åˆ†
4. **æ™ºèƒ½ç¼“å­˜**: ç›¸åŒæŸ¥è¯¢ç»“æœå¯å¤ç”¨

### å»ºè®®ç”¨æ³•

- ä½¿ç”¨ `limit` æ§åˆ¶ç»“æœæ•°é‡ï¼Œé¿å…å¤§é‡æ•°æ®ä¼ è¾“
- ç»“åˆåŸºç¡€æœç´¢å’Œé«˜çº§è¿‡æ»¤ï¼Œå…ˆç¼©å°èŒƒå›´å†ç²¾ç¡®åŒ¹é…
- ç›¸å…³æ€§è¯„åˆ†é€‚ç”¨äºå…¨æ–‡æœç´¢ï¼Œä¼ ç»Ÿæ’åºé€‚ç”¨äºæµè§ˆ

## ğŸ”„ ç‰ˆæœ¬å…¼å®¹æ€§

- **v1.0 å…¼å®¹**: æ‰€æœ‰åŸæœ‰å‚æ•°ç»§ç»­æ”¯æŒ
- **v2.0 æ–°å¢**: é«˜çº§æ“ä½œç¬¦å’Œç›¸å…³æ€§è¯„åˆ†
- **å“åº”æ ‡è¯†**: `"version": "2.0"` æ ‡è¯†å¢å¼ºç‰ˆå¼•æ“

## ğŸ’¡ ä½¿ç”¨å»ºè®®

1. **ç²¾ç¡®æŸ¥æ‰¾**: å·²çŸ¥é¡¹ç›®é”®æ—¶ä½¿ç”¨ `key` å‚æ•°
2. **æ¨¡ç³Šæœç´¢**: ä½¿ç”¨ `q` å‚æ•°è¿›è¡Œå…¨æ–‡æœç´¢
3. **èŒƒå›´è¿‡æ»¤**: ç»“åˆå¹´ä»½ã€æ—¥æœŸèŒƒå›´ç¼©å°ç»“æœ
4. **ç›¸å…³æ€§æ’åº**: å…¨æ–‡æœç´¢æ—¶å¯ç”¨ç›¸å…³æ€§è¯„åˆ†
5. **å­—æ®µæƒé‡**: æ ¹æ®éœ€æ±‚æå‡é‡è¦å­—æ®µæƒé‡
6. **å¤åˆæŸ¥è¯¢**: ç»„åˆå¤šä¸ªæ¡ä»¶å®ç°ç²¾ç¡®æ£€ç´¢

é€šè¿‡è¿™äº›åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥å®ç°æ›´ç²¾ç¡®ã€æ›´æ™ºèƒ½çš„æ–‡çŒ®æ£€ç´¢å’Œç®¡ç†ã€‚
